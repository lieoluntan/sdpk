<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>课程展示</title>
	
    <script type="text/javascript" src="jquery-easyui-136/jquery.min.js"></script>  

	<script type="text/javascript" src="jquery-easyui-136/jquery.easyui.min.js"></script>
	<script type="text/javascript" src="jquery-easyui-136/locale/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript" src="DataTables/datatables.js"></script>
    <script type="text/javascript" src="../xppjs/jquery.serialize-object.js"></script>
	
	<link   rel="stylesheet" type="text/css" href="jquery-easyui-136/themes/gray/easyui.css"/>
	<link   rel="stylesheet" type="text/css" href="jquery-easyui-136/themes/icon.css"/>
    <link   rel="stylesheet" type="text/css" href="DataTables/datatables.css"/>




	

    <!-- <script src="../js/jquery-1.8.2.js" type="text/javascript"></script> -->


	<script type="text/javascript">

    $(document).ready(function() {

    //步骤1,展示列表数据
    var table = $('#example').DataTable( {
        "ajax": "/sdpk/aaCourse?qqiu=list",
        "columns": [
            { "data": "name" },
            { "data": "category" },
            { "data": "describe" }
        ]
    } );//end 步骤1 外圈  $('#example').DataTable

    //步骤2，列表选择
    var selectTable = $('#example tbody').on( 'click', 'tr', function () {
        if ( $(this).hasClass('selected') ) {
            $(this).removeClass('selected');
        }
        else {
            table.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
        }//end if 

    } );//end 2 外圈 $('#example tbody').on

    //步骤3，删除按钮单击事件
    $('#delbut').click( function () {

        //要初始化一个对象，不然会报undifine未定义错误
        var delRowData = {};
        //获取选择那一行的数据
         delRowData = table.row('.selected').data();
         //获取选择行中的uuid字段
         var Auuid = delRowData.uuid;
         
         //post请求体传给后台的js对象
         var send_data = {};
         send_data.uuid = Auuid;
         // alert( "选择的行的uuid: "+send_data);
         //调用ajax方法传给后台接口
         $.ajax({
                
                url:"/sdpk/aaCourse?qqiu=delete",
                type: "POST",
                //data: JSON.stringify(param),
                data: JSON.stringify(send_data),
                contentType: "application/json;charset=UTF-8", 
                success:function(result){
                    alert("删除完成");
                    window.location.reload();

                }
             
            });//end $.ajax

         table.row('.selected').remove().draw( false );//图形删除，没有传到后台接口
    } );//end 3 外圈 $('#delbut').click

    //步骤4，对话框初始配置
    $( "#dialog" ).dialog({
      autoOpen: false,
      show: {
        effect: "blind",
        duration: 1000
      },
      hide: {
        effect: "explode",
        duration: 1000
      }
    });//end 4 外圈 dialog


    //步骤5，编辑打开事件
    $( "#opener" ).click(function() {

        //要初始化一个对象，不然会报undifine未定义错误
        var delRowData = {};
        //获取选择那一行的数据
         delRowData = table.row('.selected').data();
         document.ffname.name.value= delRowData.name;
         document.ffname.category.value= delRowData.category;
         document.ffname.describe.value= delRowData.describe;
         

        var n1 = document.ffname.name.value; //定义个变量n接收表单中的值
        alert(n1); //alert是弹出对话框，会弹出一个123的对话框

      $( "#dialog" ).dialog( "open" );

    });//end 5 外圈 opener 结束打开对话框

    //步骤6，编辑确定事件
    $( "#submitForm" ).click(function() { 
        //要初始化一个对象，不然会报undifine未定义错误
            var delRowData = {};
            //获取选择那一行的数据
            delRowData = table.row('.selected').data();
            alert(delRowData.name);
            
            // var param = $("#ff").serializeObject();
            var send_edit_data = {};
            send_edit_data.uuid = delRowData.uuid;
            send_edit_data.name = document.ffname.name.value;
            send_edit_data.category = document.ffname.category.value;

            send_edit_data.describe = document.ffname.describe.value;
            $.ajax({
                
                url:"/sdpk/aaCourse?qqiu=edit",
                type: "POST",
                //data: JSON.stringify(param),
                data: JSON.stringify(send_edit_data),
                contentType: "application/json;charset=UTF-8", 
                success:function(result){
                alert("修改完成");
                window.location.reload();
                }
             
            });


    });//end 6 外圈 submitForm


} );//end 最外层 $(document).ready


        function clearForm(){
            $('#ff').form('clear');
        };//end function clearForm
    
    </script>

	<style type="text/css">
		*{
    		font-family:"黑体";
    	}
        
	</style>
</head>
<body style="overflow-x：hidden;">
	
	<div id="fen3a3_container" style="width:970px;height: 690px;background-color:#FFFFFF;"> 

		<div id="ye_1_blank" style="background-color:#FFFFFF;width:970px;height:30px;float:left;"></div>
		<div id="ye_2_blank" style="background-color:#FFFFFF;width:30px;height:660px;float:left;"></div>

		<div id="ye_3_text_container" style="box-sizing:border-box;background-color:#FFFFFF;width:940px;height:660px;float:left;">
			<div id="header_1" style="background-color:#FFFFFF;width:940px;height: 35px;float:left;">
            <strong style="float:left;box-sizing:border-box;font-size:24px;margin-bottom:0;text-align:left;">课程管理</strong></div>
            <!-- 留空开始 -->
	    	<div style="background-color:#FFFFFF;width:940px;height: 30px;float:left;box-sizing:border-box;">
			<a href="javascript:void(0)" class="easyui-linkbutton" onclick="addForm()">添加课程</a>
			<button id="delbut">删除</button>
            <button id="opener">编辑</button>
	    	</div>
			<!-- 留空结束 -->
			<!-- 留空开始 -->
			<div style="background-color:#FFFFFF;width:940px;height: 10px;float:left;box-sizing:border-box;">
	    	</div>
	    	<!-- 留空结束 -->
	    	
                    <!--start div id="listTable" 列表展示开始 -->
            		<div id="listTable" style="float:left;width:940px;height: 530px;background-color: #FFFFFF;">
                    <table id="example" class="display" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th>名称</th>
                                <th>类别</th>
                                <th>课程描述</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>名称</th>
                                <th>类别</th>
                                <th>课程描述</th>
                            </tr>
                        </tfoot>
                    </table>


                    </div><!--end div id="listTable" 列表展示结束 -->





		</div><!-- end div id="ye_3_text_container" -->

	</div><!-- end div  id="fen3a3_container"-->

    <div id="dialog" title="Basic dialog" closed="true" style="width:970px;height: 690px;">
                <p>这是一个动画显示的对话框</p>
                <form id="ff" name="ffname" method="post" > 

                    <table id="header_3_tb1" style="float:left;box-sizing:border-box;margin-bottom:0;border-collapse:collapse">
                    <!-- 第一行 -->
                    <tr>
                    <td align="center" style="text-align:left;background-color:#FFFFFF;width:90px;height:39px;box-sizing:border-box;font-size:16px;">课程名称</td>
                    <td><input  type="text" name="name" style="height: 39px;width: 833px;font-size:16px;" value="请输入课程名称"> </td>
                    </tr>
                    <!-- 第一行结束 -->

                    <!-- 留空开始 -->
                    <tr style="width:923px;height: 28px; "></tr>
                    <!-- 留空结束 -->
                    </table><!-- end id=header_3_tb1 -->

                    <table id="header_3_tb2"  style="float:left;box-sizing:border-box;margin-bottom:0;border-collapse:collapse">
                    <!-- 第一行 -->
                    <tr>
                    <td align="center" style="text-align:left;background-color:#FFFFFF;width:90px;height:39px;box-sizing:border-box;font-size:16px;">课程类别</td>
                    <td>
                        <select  name="category"  style="height: 39px;width: 340px;font-size:16px;">
                            <option value="课程类别1">课程类别1</option>
                            <option value="课程类别2">课程类别2</option>
                        </select>
                    </td>

                    <td style="height: 39px;width: 63px;background-color:#FFFFFF;"></td>

                    <td align="center" style="text-align:left;background-color:#FFFFFF;width:90px;height:39px;box-sizing:border-box;font-size:16px;">所属校区</td>
                    <td>
                        <select  name="schoolPart"  style="height: 39px;width: 340px;font-size:16px;">
                            <option value="共和校区">共和校区</option>
                            <option value="天目分校">天目分校</option>
                        </select>
                    </td>
                    </tr>
                    <!-- 第一行结束 -->

                    <!-- 中间划线 -->
                    <tr style="width:923px;height: 28px; border-style:solid; border-bottom-width:1px;
                        border-left: none;border-top: none;border-right: none;"></tr>
                    <!-- 中间划线结束 -->
                    <!-- 留空开始 -->
                    <tr style="width:923px;height: 28px; "></tr>
                    <!-- 留空结束 -->

                    </table> <!-- end id为 header_3_tb2 -->

                    

                <table id="header_3_tb3"  style="float:left;box-sizing:border-box;margin-bottom:0;border-collapse:collapse">
                    <!-- 第一行 -->
                    <tr>
                    <td align="center" style="text-align:left;background-color:#FFFFFF;width:90px;height:39px;box-sizing:border-box;font-size:16px;">授课老师</td>
                </tr>
                <tr>
                <!-- 单元格留空,对齐授课老师单元格 --><td align="center" style="text-align:left;background-color:#FFFFFF;width:90px;height:39px;box-sizing:border-box;font-size:16px;"></td>

                    <td><!--start 授课老师内容单元格 开始 -->
                    <div  id="tb3_teacher_left"  type="text" name="name" style="background-color:#FF0000;height: 350px;width: 400px;font-size:16px;float: left;" >
                    <table id="paike_biao" class="display" cellspacing="0" width="100%">
                        <!--start 表头 -->
                        <thead>
                            <tr>
                                <th>姓名</th>
                                <th>校区</th>
                                <th>部门</th>
                                <th>职位</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <!--end 表头 -->
                        <!-- start 表尾 -->
                        <tfoot>
                             <tr>
                                <th>姓名</th>
                                <th>校区</th>
                                <th>部门</th>
                                <th>职位</th>
                                <th>操作</th>
                            </tr>
                        </tfoot>
                        <!-- end 表尾 -->

                        <!-- start 表内容展示区 -->
                        <tbody>
                            <tr>
                                <td>美高数学a</td>
                                <td>上课时间aaa</td>
                                <td>叶乐天a</td>
                                <td>50101a</td>

                                <td>
                                <button>选择</button>
                                </td>
                             </tr>

                             <tr>
                                <td>美高数学a</td>
                                <td>上课时间aaa</td>
                                <td>叶乐天a</td>
                                <td>50101a</td>

                                <td>
                                <button>选择</button>
                                </td>
                             </tr>
                        </tbody>
                        <!-- end 表内容展示区 -->
                    </table>
                    </div><!-- end div tb3_teacher_left 是表格内部嵌入的div 对应授课老师 -->

                    <!-- 留空 --><div style="height: 350px;width: 30px;background-color: #FFFF00;float: left;"></div>

                    <div  id="tb3_teacher_right"  type="text" name="name" style="background-color:#00FF00;height: 350px;width: 400px;font-size:16px;float: left;" >
                        <div style="background-color:#00FF00;height: 30px;width: 400px;font-size:16px;float: left;" ><strong>已选老师</strong></div>
                        <div style="background-color:#00FFFF;height: 320px;width: 400px;font-size:16px;float: left;" ><strong>请在左边点击授课老师</strong></div>
                    </div><!-- end div tb3_teacher_right 是表格内部嵌入的div 对应授课老师 -->



                     </td><!--end 授课老师内容单元格 结束 -->

                    </tr>
                    <!-- 第一行结束 -->
                    
                    <!-- 留空开始 -->
                    <tr style="width:923px;height: 28px; "></tr>
                    <!-- 留空结束 -->
                    </table><!-- end  id= header_3_tb3 -->

                    <table id="header_3_tb4"  style="float:left;box-sizing:border-box;margin-bottom:0;border-collapse:collapse">
                    <!-- 第一行 -->
                    <tr>
                    <td align="center" style="text-align:left;background-color:#FFFFFF;width:90px;height:39px;box-sizing:border-box;font-size:16px;">课程描述</td>
                    <td><input  type="text" name="describe" style="height: 39px;width: 841px;font-size:16px;" value="最多可输入50个字符"></td>
                    </tr>
                    <!-- 第一行结束 -->

                    <!-- 中间划线 -->
                    <tr style="width:923px;height: 28px; border-style:solid; border-bottom-width:1px;
                        border-left: none;border-top: none;border-right: none;"></tr>
                    <!-- 中间划线结束 -->
                    <!-- 留空开始 -->
                    <tr style="width:923px;height: 28px; "></tr>
                    <!-- 留空结束 -->

                    </table> <!-- end id为 header_3_tb4 -->
                
                </form>
                <!-- 按钮div开始 -->
                <div style="text-align:center;position: absolute;top: 89%;left: 89%;padding:5px">
                    <button  class="easyui-linkbutton" id="clearForm">清空</button>
                    <button  class="easyui-linkbutton" id="submitForm">确认</button>
                 </div>
                 <!-- 按钮div结束 -->
    </div><!-- end id=dialog -->
</body>
</html>